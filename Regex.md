# 正则
## 1、什么是正则表达式?
```
   正则表达式是一种特殊的字符串模式，用于匹配一组字符串。
   http://www.regexpal.com
```

## 2、用字符组来匹配数字
```
   [0-9]
   正则表达式将方括号视为特殊的元字符（metacharacter），因此方括号不参与匹配。
   元字符是在正则表达式中有特殊含义的字符，也是保留字符。
   [0-9]这种形式的正则表达式称做字符组（character class），有时也叫字符集（character set）。
```

## 3、使用字符组简写式
```
   \d可以像[0-9]一样匹配任意阿拉伯数字。
   这种正则表达式叫做字符组简写式（character shorthand），也叫转义字符（character escape）。
   可以用转义的大写D（\D），它匹配任何一个非数字字符。
```   

## 4、匹配任意字符串(.)
```
   点号（英文句号）是一个通配符，可以匹配任意字符。
```

## 5、捕获分组和后向引用
```
   要创建捕获分组，先将一个\d放在一对圆括号中，这样就将它放入了一个分组中，后面可以用\1来对捕获的内容进行后向引用.
   (\d)\d\1
   \1对括号内分组捕获的内容进行了反向引用
```

## 6、使用量词
```
   \d{3}-?
   花括号中的数字表示待查找的数字出现的次数。包含数字的花括号是一种量词（quantifier）。花括号本身用做元字符。
   问号是另一种量词，在以上表达式中表示连字符是可选的。也就是说，连字符可以不出现或只出现一次。还有其他的量词，例如加号（+）表示“一个或多个”，星号（＊）表示“零个或多个”
   使用量词能让正则表达式变得更简洁
   
   示例：(\d{3,4}[.-]?)+
   逐一解释表达式中的每一项:
   左圆括号 (为捕获分组的起始符；
   反斜杠 \为字符组简写式的起始符（对之后的字符进行转义）；
   字符d为字符组简写式的结束符（d匹配0到9范围内的任意数字）；
   左花括号 {为量词起始符；
   数字3为匹配的最小数量；
   逗号，隔开不同的数量；
   数字4为匹配的最大数量；
   右花括号 }为量词的结束符；
    左方括号 [为字符组的起始符；
    点号 ．（匹配点号本身）；
    连字符 -匹配连字符的本身；
    右方括号 ]为字符组的结束符；
    问号 ？表示量词“零个或一个”；
    右圆括号 )为捕获分组的结束符；
    加号 +表示量词“一个或多个”。
```

## 7、括选文字符
```
脱字符 ^匹配行起始位置；
美元符 $匹配行结束位置。
```

## 8、简单的模式匹配
```
正则表达式唯一的用途就是在文本中匹配和寻找模式，模式可以简单也可以复杂。
http://gskinner.com/RegExr
https://regexr.com/
字符串字面量
数字
字母
任意字符

1、匹配字符串字面量
    正则表达式最为直接和明显的功能就是用一个或多个字符字面值来匹配字符串。
    匹配字符串字面值的方法就是使用普通的字符。

2、匹配数字
    简写：\d
    字符组：[0-9]
    字符组可精确匹配字符：[01]

3、匹配非数字字符
    通常可以将简写式取反，取反的结果就是排除。
    \D
    字符组取反的意思其实就是“不匹配这些”或“匹配除这些以外的内容”。
    [^0-9]
    [^\d]

4、匹配单词和非单词字符
    \w匹配单词和非单词字符
    \D与\w的区别是\D会匹配空格、标点符号（引号、连字符、反斜杠、方括号）等字符，而\w却不会，它只匹配字母、数字和下划线。
    在英语环境中，与\w匹配相同内容的字符组为：
    [_a-zA-Z0-9]
    \W : 用大写字母W匹配非单词字符
    
    字符简写式：
    \a      报警符
    [\b]    退格字符
    \c x    控制字符
    \d      数字字符
    \D      非数字字符
    \o xxx  字符的八进制值
    \w      单词字符
    \W      非单词字符
    \o      空字符
    \x xx   字符的十六进制值
    \u xxx  字符的Unicode值

5、匹配空白符
    \s
    示例：[ \t\n\r]
    它会匹配：空格 制表符(\t) 换行符(\n) 回车符(\r)
    \S: 要匹配非空白字符
    匹配除空白符之外的所有符号。它匹配字符组：
    [^ \t\n\r] 或者 [^\S]
    
    匹配各种空白符的简写式:
    \f 换页符
    \h 水平空白符
    \H 非水平空白符
    \n 换行符
    \r 回车符
    \s 空白符
    \S 非空白符
    \t 水平制表符
    \r 垂直制表符
    \V 非垂直制表符

6、匹配任意字符
    用正则表达式匹配任意字符的一种方法就是使用点号（U+002E）。点号可以匹配除行结束符之外的所有字符，个别情况除外
    示例：\bA.{5}T\b
    这种表达式有强的特指性：
        简写式\b匹配单词边界，不消耗任何字符；
        字符A和T限定了字符序列的首尾字母；
        .{5}匹配任意五个字符；
        简写式 \b匹配单词的另一个边界。
    这个正则表达式实际上可以匹配ANCYENT和ANCIENT。

    dotall表示点号匹配包括换行符在内的所有字符。

```

## 9、边界
```
断言标记边界，但是并不耗用字符。也就是说，字符并不会返回到结果中。
断言也被称做零宽度断言（zero-width assertion）。零宽度断言不匹配字符，而是匹配字符串中的位置。
其中的一些，比如^和$，也叫做锚位符（anchor）。

边界有以下几种：
    行或者字符串的起始与结束位置；
    单词边界（两种）；
    主题词的起始与结束位置；
    引用字符串字面值的边界。

1、行的起始与结束
要匹配行或字符串的起始要使用脱字符（U+005E）：^
若要匹配行或字符串的结尾位置要使用美元符：$

2、单词边界与非单词边界
   \b 它匹配单词边界。
   \b是个零宽度断言，表面上它会匹配空格或者是行起始，而实际上它匹配的是个零宽度的不存在的东西。

3、其他锚位符
    与锚位符^相似，以下简写式匹配主题词的起始：\A
    这个写法不是在所有的正则表达式程序中都可以使用的，但可以在Perl和PCRE中使用。要匹配主题词的结尾，可以使用：\Z

4、使用元字符的字面值
    用\Q 和 \E 之间的字符集匹配字符串字面值。

```

##  选择、分组和后向引用
```
在两种或更多可选模式中选择一个。
创建子模式；
捕获一个分组以便之后进行后向引用；
对组合的模式使用某项操作（如量词）；
使用非捕获分组；
原子分组（高级）。

示例：(the|The|THE)
    可以使用一个选项来使分组更简短。（? i）
    让你的模式不再区分大小写。(? i)the

1、子模式
提到正则表达式中的子模式（subpattern），就是指分组中的一个或多个分组。子模式就是模式中的模式。多数情况下，
子模式中的条件能得到匹配的前提是前面的模式得到匹配，但也有例外。子模式的写法可以有很多种，这里我们主要关注括号中的子模式。
示例：(the|The|THE)
    有三个子模式：the是第一个子模式，The是第二个，而THE是第三个。有三个子模式：the是第一个子模式，The是第二个，而THE是第三个。
示例：（t|T）h(e|eir)
    这个模式会匹配字面值t或T，然后是一个h，接下来就是一个e或者是eir。相应地，这个模式会匹配以下所有情况：
    the；The；their；Their。
第二个子模式(e|eir)依赖于第一个子模式(tT)。



```